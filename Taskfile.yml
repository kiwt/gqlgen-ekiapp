version: '3'

tasks:
  # first time only
  init:
    cmds:
      - docker volume create pg-data-eki

  start:
    cmds:
      - docker-compose up -d --build

  delete:
    cmds:
      - docker-compose down

  gqlgen-init:
    cmds:
      - cd graph
      - go run github.com/99designs/gqlgen init

  gqlgen:
    cmds:
      - cd graph
      - gqlgen generate